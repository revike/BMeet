# Web-сервис "BMeet"

###### Drawing board

Описание проблемы
=================

##### Ниже описана проблема, которую имеем на входе:

> Представьте, что в гибридном митинге принимают участие два
> непримиримых приверженца разных вайтбордов. Один консервативно настаивает,
> что
> нужно использовать физическую доску и транслировать её в митинг, а второй
> хочет
> использовать виртуальный вайтборд, чтобы на нём мог работать каждый.
> Очевидно,
> можно трансформировать реальный вайтборд в виртуальный единожды (пусть даже и
> в
> виде изображения) после того, как первый пользователь внесёт все необходимые
> правки, и работать уже с виртуальной доской. Однако, в таком случае первый
> пользователь уже не сможет отслеживать дальнейшие изменения на своем
> физическом
> вайтборде.

Цель проекта
============
> Основной целью проекта является реализация web-сервиса в течение 2,5 месяцев
> до 17.10.2022 для проведения совместных митингов команды на вайтборде.


Общие требования к разработке
-----------------------------

##### Web-сервис включает в себя следующие основные части:

1. Аутентификацию / регистрацию
2. Главную страницу
3. Инструмент рисования:
    - Доску (холст) - общее пространство для рисования
    - Панель инструментов для рисования
4. Управление аккаунтом

### **Аутентификация / регистрация**

Необходимо реализовать следующую схему:

*Регистрация > верификация > аутентификации + восстановления доступа*

### Главная страница

Главная страница должна включать в себя:

- Функционал создания, выбора и управления доской для митинга
- Переход на меню управления аккаунтом

### Требования к доске

- Ниже описаны основные требования к доске:
- Доска должна быть на всю ширину экрана
- Доска должна быть белого или светло-серого цвета (т.е. нейтральной)
- Возможность рисования на доске должны иметь одновременно все участники
  текущего митинга
- Пользователи должны иметь возможность рисовать как на интерактивной
  физической доске, так и на любом удобном для них устройстве (ноутбуке,
  планшете и телефоне, т.е. должна быть адаптивной)

### Требования к панели инструментов

- Ниже описаны основные требования к панели инструментов:
- Панель инструментов должна выглядеть в виде небольшого блока
- Минимально необходимые инструменты: карандаш, ластик, фигуры
- Предоставить возможность менять цвет карандаша или фигур
- Предоставить возможность пользователю (функционал может не войти в MVP,
  только при наличии времени):
    - добавлять текст
    - пользоваться захватом объектов для их перемещения на доске
    - пользоваться увеличением данных объектов

### Управление аккаунтом

Меню управления аккаунтом включает в себя:

- Переход в настройки профиля (поля: ФИ, username, почта + смена пароля +
  удалить аккаунт)
- Выход из системы

Основные технологии
-------------------

```
* Python 3.10.4
* Django 4.1.1
* Django REST Framework 3.13.1
* Postgresql 14.5
* Redis 5
```

```
* Docker
* Docker Compose
```

Установка и запуск
------------------

* Переходим в директорию проекта

```cd BMeet```
###### <a name="frontend"></a> Frontend

* Клонируем репозиторий с Frontend

[Frontend repository](https://github.com/NatalyaMamicheva/BMeet.git)

* Переименовываем клонированную директорию с фронтом BMeet на frontend

```mv BMeet frontend```

* Переходим в директорию frontend

```cd frontend```

* Переключаемся на ветку developer

```git checkout developer```

* Создаем Dockerfile

```touch Dockerfile```

* Содержимое Dockerfile:

```dockerfile
FROM node:16.16.0
WORKDIR /app
COPY my-app/package.json /app/package.json
RUN npm install
COPY ./my-app /app
RUN npm run build
EXPOSE 3000
CMD ["npm", "start"]

```

> Во время разработки периодические обновляем ветку frontend ```git pull```

* Возвращаемся в главную директорию проекта

```cd ..```

###### Backend или [запуск с помощью docker-compose](#docker)

* Создаем виртуальное окружение

```python3 -m venv venv```

* Активируем виртуальное окружение

```source venv/bin/activate```

* Создаем файл .env такой же, как .env.sample (меняем настройки при необходимости)

```touch .env```

* Устанавливаем зависимости

```pip install -r requirements.txt```

* Выполняем миграции

```python backend/manage.py migrate```

* Запуск

```python backend/manage.py runserver```

<a name="docker"></a> Запуск с помощью docker-compose
-------------------------------

###### Делаем файл docker_commands.sh исполняемым

```chmod +x docker_commands.sh```

##### [Выполняем инструкцию по frontend](#frontend)

##### Запуск

```docker-compose up -d --build```
